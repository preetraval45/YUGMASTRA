# ===========================================
# YUGMASTRA - Environment Configuration
# ===========================================

# -----------------
# Database (Port 201)
# -----------------
# Internal: postgres:5432, External: localhost:201
DATABASE_URL=postgresql://yugmastra:yugmastra_dev_password@postgres:5432/yugmastra?schema=public
POSTGRES_DB=yugmastra
POSTGRES_USER=yugmastra
POSTGRES_PASSWORD=yugmastra_dev_password
POSTGRES_MAX_CONNECTIONS=200
POSTGRES_SHARED_BUFFERS=256MB

# -----------------
# Redis (Port 202)
# -----------------
# Internal: redis:6379, External: localhost:202
REDIS_URL=redis://redis:6379/0
REDIS_PASSWORD=
REDIS_MAX_MEMORY=512mb
REDIS_MAX_MEMORY_POLICY=allkeys-lru

# -----------------
# Ollama / LLM (Port 203)
# -----------------
# Internal: ollama:11434, External: localhost:203
OLLAMA_URL=http://ollama:11434
OLLAMA_HOST=0.0.0.0:11434
OLLAMA_MODELS=/root/.ollama/models
OLLAMA_KEEP_ALIVE=5m
OLLAMA_DEFAULT_MODEL=llama2
OLLAMA_TIMEOUT=300

# -----------------
# AI Engine (Port 204)
# -----------------
# Internal: ai-engine:8001, External: localhost:204
MODEL_DIR=/app/models
DATA_DIR=/app/data
LOG_LEVEL=INFO
WORKERS=4
MAX_REQUESTS=1000
MAX_REQUESTS_JITTER=100
TIMEOUT=300
RATE_LIMIT_PER_MINUTE=60
ENABLE_STREAMING=true
MAX_RETRIES=3
RETRY_DELAY=1

# -----------------
# Next.js / Web
# -----------------
NODE_ENV=development
NEXT_PUBLIC_API_URL=http://localhost:200/api
NEXT_PUBLIC_WS_URL=ws://localhost:200/ws
AI_ENGINE_URL=http://ai-engine:8001
PORT=3000
HOSTNAME=0.0.0.0

# -----------------
# Authentication
# -----------------
JWT_SECRET=yugmastra-super-secret-jwt-key-change-in-production-2024
JWT_EXPIRES_IN=7d
SESSION_SECRET=yugmastra-session-secret-change-in-production
BCRYPT_ROUNDS=10

# NextAuth Configuration
NEXTAUTH_URL=http://localhost:200
NEXTAUTH_SECRET=yugmastra-nextauth-secret-change-in-production

# OAuth Providers (Google)
# Get credentials from: https://console.cloud.google.com/
GOOGLE_CLIENT_ID=your-google-client-id-here
GOOGLE_CLIENT_SECRET=your-google-client-secret-here

# OAuth Providers (Apple)
# Get credentials from: https://developer.apple.com/
APPLE_CLIENT_ID=your-apple-client-id-here
APPLE_CLIENT_SECRET=your-apple-client-secret-here

# -----------------
# CORS
# -----------------
CORS_ORIGIN=http://localhost:200,http://localhost:3000
CORS_CREDENTIALS=true

# -----------------
# Monitoring & Logging
# -----------------
ENABLE_METRICS=true
ENABLE_TRACING=true
LOG_FORMAT=json
LOG_FILE=/app/logs/app.log
REQUEST_ID_HEADER=X-Request-ID

# Sentry Error Monitoring (Optional - for production error tracking)
# Get DSN from: https://sentry.io/
NEXT_PUBLIC_SENTRY_DSN=
SENTRY_DSN=
SENTRY_ORG=
SENTRY_PROJECT=
SENTRY_AUTH_TOKEN=
ENVIRONMENT=development

# -----------------
# External APIs
# -----------------
OPENAI_API_KEY=
HUGGINGFACE_TOKEN=
PINECONE_API_KEY=
PINECONE_ENVIRONMENT=

# -----------------
# Neo4j (Optional)
# -----------------
NEO4J_URI=bolt://localhost:7687
NEO4J_USER=neo4j
NEO4J_PASSWORD=

# -----------------
# Email Service (Optional - for password reset, notifications)
# -----------------
# Gmail Example:
#   SMTP_HOST=smtp.gmail.com
#   SMTP_PORT=587
#   SMTP_USER=your-email@gmail.com
#   SMTP_PASS=your-app-password (not your regular password!)
# SendGrid Example:
#   SMTP_HOST=smtp.sendgrid.net
#   SMTP_PORT=587
#   SMTP_USER=apikey
#   SMTP_PASS=your-sendgrid-api-key
SMTP_HOST=
SMTP_PORT=587
SMTP_USER=
SMTP_PASS=
SMTP_FROM_NAME=YUGMASTRA
SMTP_FROM_EMAIL=noreply@yugmastra.com

# -----------------
# Security
# -----------------
ENABLE_RATE_LIMITING=true
RATE_LIMIT_WINDOW_MS=60000
RATE_LIMIT_MAX_REQUESTS=100
ENABLE_CSRF_PROTECTION=true
ENABLE_HELMET=true

# -----------------
# Performance
# -----------------
ENABLE_CACHING=true
CACHE_TTL=3600
ENABLE_COMPRESSION=true
MAX_UPLOAD_SIZE=10485760

# -----------------
# Feature Flags
# -----------------
ENABLE_WEBSOCKETS=true
ENABLE_FILE_UPLOAD=true
ENABLE_EXPORT=true
ENABLE_AI_TRAINING=false
ENABLE_ZERO_DAY_DISCOVERY=true
ENABLE_SIEM_GENERATION=true

# -----------------
# Development
# -----------------
DEBUG=false
HOT_RELOAD=true
ENABLE_PROFILING=false
